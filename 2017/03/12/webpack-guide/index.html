<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name="description" content="关于程序与生活 | HK, hhking, Front-End Engineer | 这里是 @hhking 的个人博客，与你一起发现更大的世界。"><meta name="keywords" content=""><meta name="theme-color" content="#000000"><meta name="description" content="webpack 已经更新到2.2版本。webpack v1 官方已经不推荐使用,建议更新到webpack 2。 (2017-03-12)四大核心概念 (Four Core Concepts)webpack 是现代JavaScript应用的模块打包工具（module bundler），具有高度可配置性。在开始配置webpack之前，我们需要先理解它的四大核心概念，有助于我们理解webpack的工具方"><meta name="keywords" content="React,webpack"><meta property="og:type" content="article"><meta property="og:title" content="webpack 2 配置指南"><meta property="og:url" content="https://blog.hhking.cn/2017/03/12/webpack-guide/index.html"><meta property="og:site_name" content="HK Talk"><meta property="og:description" content="webpack 已经更新到2.2版本。webpack v1 官方已经不推荐使用,建议更新到webpack 2。 (2017-03-12)四大核心概念 (Four Core Concepts)webpack 是现代JavaScript应用的模块打包工具（module bundler），具有高度可配置性。在开始配置webpack之前，我们需要先理解它的四大核心概念，有助于我们理解webpack的工具方"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://blog.hhking.cn/images/webpack.png"><meta property="og:image" content="https://blog.hhking.cn/images/sourcemap.png"><meta property="og:updated_time" content="2020-08-21T11:20:08.931Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="webpack 2 配置指南"><meta name="twitter:description" content="webpack 已经更新到2.2版本。webpack v1 官方已经不推荐使用,建议更新到webpack 2。 (2017-03-12)四大核心概念 (Four Core Concepts)webpack 是现代JavaScript应用的模块打包工具（module bundler），具有高度可配置性。在开始配置webpack之前，我们需要先理解它的四大核心概念，有助于我们理解webpack的工具方"><meta name="twitter:image" content="https://blog.hhking.cn/images/webpack.png"><meta property="article:tag" content="React"><meta property="article:tag" content="webpack"><title>webpack 2 配置指南 | HK Talk</title><link rel="canonical" href="https://blog.hhking.cn/2017/03/12/webpack-guide/"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/hux-blog.css"><link rel="stylesheet" href="/css/highlight.css"><link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]--><script></script></head><body ontouchstart=""><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class="container-fluid"><div class="navbar-header page-scroll"><button type="button" class="navbar-toggle"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="/">HK Talk</a></div><div id="huxblog_navbar"><div class="navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="/">Home</a></li><li><a href="/about">About</a></li><li><a href="/archives">Archives</a></li></ul></div></div></div></nav><script>var $body=document.body,$toggle=document.querySelector(".navbar-toggle"),$navbar=document.querySelector("#huxblog_navbar"),$collapse=document.querySelector(".navbar-collapse"),__HuxNav__={close:function(){$navbar.className=" ",setTimeout(function(){$navbar.className.indexOf("in")<0&&($collapse.style.height="0px")},400)},open:function(){$collapse.style.height="auto",$navbar.className+=" in"}};$toggle.addEventListener("click",function(e){0<$navbar.className.indexOf("in")?__HuxNav__.close():__HuxNav__.open()}),document.addEventListener("click",function(e){e.target!=$toggle&&"icon-bar"!=e.target.className&&__HuxNav__.close()})</script><style type="text/css">header.intro-header{position:relative;background-image:url(/img/home-bg.jpg);background:''}</style><header class="intro-header"><div class="header-mask"></div><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"><div class="tags"><a class="tag" href="/archives/?tag=React" title="React">React</a> <a class="tag" href="/archives/?tag=webpack" title="webpack">webpack</a></div><h1>webpack 2 配置指南</h1><h2 class="subheading"></h2><div class="meta"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span id="busuanzi_value_page_pv"></span> <span>| </span><span>Posted by hhking on 2017-03-12</span></div></div></div></div></div></header><article><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 post-container"><p><img src="/images/webpack.png" alt="images"><br><em>webpack 已经更新到2.2版本。webpack v1 官方已经不推荐使用,建议更新到webpack 2。 (2017-03-12)</em></p><h2 id="四大核心概念-Four-Core-Concepts"><a href="#四大核心概念-Four-Core-Concepts" class="headerlink" title="四大核心概念 (Four Core Concepts)"></a>四大核心概念 (Four Core Concepts)</h2><p>webpack 是现代JavaScript应用的模块打包工具（module bundler），具有高度可配置性。<br>在开始配置webpack之前，我们需要先理解它的四大核心概念，有助于我们理解webpack的工具方式。</p><a id="more"></a><h3 id="1-Entry"><a href="#1-Entry" class="headerlink" title="1. Entry"></a>1. Entry</h3><p>入口文件，让webpack用哪个文件作为项目的入口。<br>入口就是webpack打包的起点，并从起点开始寻找相关的依赖，从而知道打包什么。</p><p>webpack.config.js<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  entry: &apos;./path/to/my/entry/file.js&apos;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p></p><h3 id="2-Output"><a href="#2-Output" class="headerlink" title="2. Output"></a>2. Output</h3><p>出口。<br>webpack帮你把相关的资源打包好了，你需要告诉它把处理完的文件放在哪里。</p><p>webpack.config.js<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&apos;path&apos;);</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  entry: &apos;./path/to/my/entry/file.js&apos;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, &apos;dist&apos;),</span><br><span class="line">    filename: &apos;my-first-webpack.bundle.js&apos;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p></p><h3 id="3-Loaders"><a href="#3-Loaders" class="headerlink" title="3. Loaders"></a>3. Loaders</h3><p>载入器（转换器）。<br>webpack 只能识别JavaScript，但是它能把各种文件(.css,.html,.scss,.jpg 等等)处理成模块，就是通过Loaders来实现的。<br>Loaders可以理解为把各种文件转换成相应的模块，提供给webpack打包使用的工具。</p><p>webpack.config.js<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&apos;path&apos;);</span><br><span class="line"></span><br><span class="line">const config = &#123;</span><br><span class="line">  entry: &apos;./path/to/my/entry/file.js&apos;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, &apos;dist&apos;),</span><br><span class="line">    filename: &apos;my-first-webpack.bundle.js&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;test: /\.(js|jsx)$/, use: &apos;babel-loader&apos;&#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">module.exports = config;</span><br></pre></td></tr></table></figure><p></p><h3 id="4-Plugins"><a href="#4-Plugins" class="headerlink" title="4. Plugins"></a>4. Plugins</h3><p>插件<br>webpack的插件主要是一些对打包出来的内容做一些处理的工具（不限于此）。<br>比如：把所有的css文件抽离到一个css文件；压缩js；生成html模板等。</p><p>webpack.config.js<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">const HtmlWebpackPlugin = require(&apos;html-webpack-plugin&apos;); //installed via npm</span><br><span class="line">const webpack = require(&apos;webpack&apos;); //to access built-in plugins</span><br><span class="line">const path = require(&apos;path&apos;);</span><br><span class="line"></span><br><span class="line">const config = &#123;</span><br><span class="line">  entry: &apos;./path/to/my/entry/file.js&apos;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, &apos;dist&apos;),</span><br><span class="line">    filename: &apos;my-first-webpack.bundle.js&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;test: /\.(js|jsx)$/, use: &apos;babel-loader&apos;&#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    new webpack.optimize.UglifyJsPlugin(),</span><br><span class="line">    new HtmlWebpackPlugin(&#123;template: &apos;./src/index.html&apos;&#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">module.exports = config;</span><br></pre></td></tr></table></figure><p></p><p><em>上述例子来自官方文档，详情参考<a href="https://webpack.js.org/concepts/" target="_blank" rel="noopener">Concepts</a></em></p><h2 id="webpack-2-配置"><a href="#webpack-2-配置" class="headerlink" title="webpack 2 配置"></a>webpack 2 配置</h2><h3 id="建立项目"><a href="#建立项目" class="headerlink" title="建立项目"></a>建立项目</h3><p>建一个文件夹，初始化package.json<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir webpack</span><br><span class="line">cd webpack</span><br><span class="line">npm init</span><br></pre></td></tr></table></figure><p></p><p><em>填入必要的内容，也可以直接回车跳过一些内容</em></p><p>建立目录结构如下</p><ul><li>/dist</li><li>/src<ul><li>index.js</li></ul></li><li>package.json</li></ul><h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><p>项目中安装<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack --save-dev</span><br><span class="line"></span><br><span class="line">// 指定安装某个版本</span><br><span class="line">npm install webpack@&lt;version&gt; --save-dev</span><br></pre></td></tr></table></figure><p></p><p>使用npm script时，npm会去寻找当前项目的modules中安装的webpack<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;start&quot;: &quot;webpack --config mywebpack.config.js&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>这种使用方式是推荐的最佳实践方式</p><p>你也可以选择全局安装，这样webpack命令就全局都可以使用<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack -g</span><br></pre></td></tr></table></figure><p></p><p><em>全局安装要注意全局安装版本和项目安装的版本不同可能导致出错。</em></p><h3 id="配置入口和出口"><a href="#配置入口和出口" class="headerlink" title="配置入口和出口"></a>配置入口和出口</h3><p>安装webpack之后，我们在根目录创建webpack.config.js文件，这是webpack默认匹配的配置文件。<br>你也可以自定义的指定某一个配置文件：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">--config mywebpack.config.js</span><br></pre></td></tr></table></figure><p></p><p>webpack.config.js<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&apos;path&apos;);</span><br><span class="line">const webpack = require(&apos;webpack&apos;);</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  context: path.resolve(__dirname, &apos;./src&apos;),</span><br><span class="line">  entry: &#123;</span><br><span class="line">    app: &apos;./app.js&apos;,</span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    path: path.resolve(__dirname, &apos;./dist&apos;),</span><br><span class="line">    filename: &apos;[name].bundle.js&apos;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p></p><p>配置解释：</p><ul><li>__dirname: 指的是项目的根目录(绝对路径)</li><li>context: webpack的开始根目录(必须绝对路径)，默认为当前目录。推荐配置该属性，这样就可以让你的配置和你当前的工作目录解耦。</li><li>output.path: 输出文件目录</li><li>outputl.filename: 输出文件的名称 [name]对应于entry里的key，这里的key就是app</li></ul><p>webpack的工作流程如下：</p><ol><li>从context文件夹开始</li><li>查找entry对应文件</li><li>找到入口文件后读取内容，每当遇到 import (ES6) 或者 require() （Node） 依赖项时, 它会解析这些代码, 并且打包到最终构建里. 接着它会不断递归搜索实际需要的依赖项, 直到它到达了“树”的底部.</li><li>递归完所有依赖之后, Webpack 会将所有东西打包到 output.path 对应的目录, 并将 output.filename 的值作为最终的资源名.</li></ol><h3 id="Loaders"><a href="#Loaders" class="headerlink" title="Loaders"></a>Loaders</h3><h4 id="Babel-ES6"><a href="#Babel-ES6" class="headerlink" title="Babel+ES6"></a>Babel+ES6</h4><h5 id="install"><a href="#install" class="headerlink" title="install"></a>install</h5><p>使用ES6语法，配置Babel进行编译，需要使用<a href="https://github.com/babel/babel-loader" target="_blank" rel="noopener">babel-loader</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install babel-loader babel-core babel-preset-es2015 --save-dev</span><br><span class="line"></span><br><span class="line">// 使用react还需要安装</span><br><span class="line">npm install react react-dom --save</span><br><span class="line">npm install babel-preset-react --save-dev</span><br></pre></td></tr></table></figure><blockquote><p>babel-preset-es2015 es6语法包<br>babel-preset-react react语法包</p></blockquote><h5 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h5><p>loader配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  //...</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.jsx?$/,</span><br><span class="line">        use: [&#123;</span><br><span class="line">          loader: &apos;babel-loader&apos;,</span><br><span class="line">          options: &#123;</span><br><span class="line">            &quot;presets&quot;: [</span><br><span class="line">              &quot;es2015&quot;,</span><br><span class="line">              &quot;react&quot;</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;],</span><br><span class="line">        exclude: [</span><br><span class="line">          path.resolve(__dirname, &quot;node_modules&quot;)</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>test: 匹配的文件<br>excule: 排除node_modules目录<br>options: 这里配置的babel的配置信息</p><p>一般推荐，把babel的配置文件当初抽离到.babelrc文件中<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: [</span><br><span class="line">    &quot;es2015&quot;,</span><br><span class="line">    &quot;react&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h5 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h5><ul><li>babel-polyfill<br>Babel默认是只转换JS的语法的，一些重要的API如Promise、WeakMap，一些静态方法Array.from或Object.assign、实例方法Array.prototype.includes以及生成器函数都是没有转换的。这个时候我们就需要该包来进行转码。polyfill是会添加到全局作用对象中去就像原生的原型String一样。<br>Babel默认不转码的API非常多，详细清单可以查看babel-plugin-transform-runtime模块的<a href="https://github.com/babel/babel/blob/master/packages/babel-plugin-transform-runtime/src/definitions.js" target="_blank" rel="noopener">definitions.js</a>。</li></ul><ul><li>如果想使用ES7的一些特性，可以使用state-0或者其他对应的包。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">npm install babel-preset-stage-0 --save-dev</span><br><span class="line"></span><br><span class="line">// .babelrc</span><br><span class="line">&#123;</span><br><span class="line">  &quot;presets&quot;: &#123;</span><br><span class="line">    &quot;stage-0&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>stage预置条件是会后向兼容的，也就是说stage-0的预置条件是会包含stage-1、stage-2、stage-3等预置条件的</p></blockquote><ul><li>修饰器使用：Babel v6移除了修饰器的支持，如果要使用，需要安装第三方插件<a href="https://github.com/loganfsmyth/babel-plugin-transform-decorators-legacy" target="_blank" rel="noopener">transform-decorators-legacy</a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">npm install babel-plugin-transform-decorators-legacy --save-dev</span><br><span class="line"></span><br><span class="line">// .babelrc</span><br><span class="line">&#123;</span><br><span class="line">  &quot;plugins&quot;: [</span><br><span class="line">    &quot;transform-decorators-legacy&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>*详情可以查看<a href="https://babeljs.io/docs/plugins/" target="_blank" rel="noopener">Babel Plugins</a></p><h4 id="style"><a href="#style" class="headerlink" title="style"></a>style</h4><h5 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h5><p>我们需要两种loader，css-loader 和 style-loader。<br>css-loader 会遍历css文件，找到所有的url(…)并且处理。<br>style-loader 会把所有的样式插入到你页面的一个 style tag 中</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.css$/,</span><br><span class="line">        use: [ &apos;style-loader&apos;, &apos;css-loader&apos; ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我们在css里经常会引用图片(url(../image.png))之类的，这里就css-loader是无法处理的，需要配合file-loader和url-loader来处理图片等静态资源</p><ul><li>file-loader: 将匹配到的文件复制到输出文件夹，并根据 output.publicPath 的设置返回文件路径。</li><li>url-loader: 类似file-loader ,但是它可以返回一个DataUrl (base 64)如果文件小于设置的限制值limit。</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.css$/,</span><br><span class="line">        use: [ &apos;style-loader&apos;, &apos;css-loader&apos; ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.(png|jpg|gif|svg|eot|ttf|woff|woff2)$/,</span><br><span class="line">        loader: &apos;url-loader&apos;,</span><br><span class="line">        options: &#123;</span><br><span class="line">          limit: 10000</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h5 id="使用CSS-Modules"><a href="#使用CSS-Modules" class="headerlink" title="使用CSS Modules"></a>使用CSS Modules</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  // …</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.css$/,</span><br><span class="line">        use: [</span><br><span class="line">          &apos;style-loader&apos;,</span><br><span class="line">          &#123;</span><br><span class="line">            loader: &apos;css-loader&apos;,</span><br><span class="line">            options:</span><br><span class="line">              &#123;</span><br><span class="line">                modules: true</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">      // …</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>配置React，推荐使用<a href="https://github.com/gajus/react-css-modules" target="_blank" rel="noopener">react-css-modules</a><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install react-css-modules --save-dev</span><br></pre></td></tr></table></figure><p></p><h5 id="autoprefixer"><a href="#autoprefixer" class="headerlink" title="autoprefixer"></a>autoprefixer</h5><p>有些样式不同浏览器需要加不同的前缀，如-webkit-，使用autoprefixer会自动帮我们加上这些前缀。<br>autoprefixer-loader已经废弃不再维护了，推荐使用<a href="https://github.com/postcss/postcss-loader" target="_blank" rel="noopener">postcss-loader</a><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">npm install postcss-loader autoprefixer --save-dev</span><br><span class="line"></span><br><span class="line">// webpack.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  // …</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.css$/,</span><br><span class="line">        use: [</span><br><span class="line">          &apos;style-loader&apos;,</span><br><span class="line">          &#123;</span><br><span class="line">            loader: &apos;css-loader&apos;,</span><br><span class="line">            options:</span><br><span class="line">              &#123;</span><br><span class="line">                modules: true,</span><br><span class="line">                importLoaders: 1</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          &apos;postcss-loader&apos;</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">      // …</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p></p><p>然后配置postcss，根目录下新建配置文件postcss.config.js<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">      require(&apos;autoprefixer&apos;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h5 id="使用Sass"><a href="#使用Sass" class="headerlink" title="使用Sass"></a>使用Sass</h5><p>sass-loader依赖node-sass<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">npm install sass-loader node-sass  --save-dev</span><br><span class="line"></span><br><span class="line">// webpack.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  // …</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.(sass|scss)$/,</span><br><span class="line">        use: [</span><br><span class="line">          &quot;style-loader&quot;,</span><br><span class="line">          &quot;css-loader&quot;,</span><br><span class="line">          &quot;postcss-loader&quot;,</span><br><span class="line">          &quot;sass-loader&quot;,</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">      // …</span><br><span class="line">    ],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p></p><h3 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h3><h4 id="ExtractTextWebpackPlugin"><a href="#ExtractTextWebpackPlugin" class="headerlink" title="ExtractTextWebpackPlugin"></a>ExtractTextWebpackPlugin</h4><p>上面我们讲了webpack中style的处理，但是我们有些时候我们希望将样式抽取成独立的文件。这里我们使用 webpack 插件<a href="https://webpack.js.org/plugins/extract-text-webpack-plugin/" target="_blank" rel="noopener">ExtractTextWebpackPlugin</a><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev extract-text-webpack-plugin</span><br></pre></td></tr></table></figure><p></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">  //...</span><br><span class="line">  module: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: /\.scss/,</span><br><span class="line">        use: ExtractTextPlugin.extract(&#123;</span><br><span class="line">          fallback: &apos;style-loader&apos;,</span><br><span class="line">          use: [</span><br><span class="line">            &#123;</span><br><span class="line">              loader: &apos;css-loader&apos;,</span><br><span class="line">              options: &#123;</span><br><span class="line">                modules: true,</span><br><span class="line">                importLoaders: 2,</span><br><span class="line">                localIdentName: &apos;[folder]__[local]__[hash:base64:5]&apos;,</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">              loader: &apos;postcss-loader&apos;</span><br><span class="line">            &#125;</span><br><span class="line">            &#123;</span><br><span class="line">              loader: &apos;sass-loader&apos;</span><br><span class="line">            &#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  //...</span><br><span class="line">  plugins: [</span><br><span class="line">    new ExtractTextPlugin(&#123;</span><br><span class="line">      filename: &apos;style.css&apos;,</span><br><span class="line">      allChunks: false</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在 output 指定的目录中会有一个 style.css 文件. 最后, 在 HTML 文件中通过<link>标签正常引用.</p><h4 id="代码压缩"><a href="#代码压缩" class="headerlink" title="代码压缩"></a>代码压缩</h4><p>使用 <a href="https://webpack.js.org/plugins/uglifyjs-webpack-plugin/#components/sidebar/sidebar.jsx" target="_blank" rel="noopener">UglifyjsWebpackPlugin</a><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">const UglifyJSPlugin = require(&apos;uglifyjs-webpack-plugin&apos;);</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  // ...</span><br><span class="line">  plugins: [</span><br><span class="line">    new UglifyJSPlugin(&#123;</span><br><span class="line">      compress: &#123;</span><br><span class="line">        warnings: false</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h4 id="HTML模板"><a href="#HTML模板" class="headerlink" title="HTML模板"></a>HTML模板</h4><p><a href="https://webpack.js.org/plugins/html-webpack-plugin/#components/sidebar/sidebar.jsx" target="_blank" rel="noopener">HtmlWebpackPlugin</a><br>使用这个插件，我们可以自定义HTML模板，自动生成相应的HTML文件，包括自动插入webpack生成的css和js<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">npm install html-webpack-plugin --save-dev</span><br><span class="line"></span><br><span class="line">// webpack.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  // ...</span><br><span class="line">  plugins: [</span><br><span class="line">    new HtmlWebpackPlugin(&#123;</span><br><span class="line">      title: &apos;Hello App&apos;,</span><br><span class="line">      template: path.resolve(__dirname, &apos;src/templates/index.html&apos;),</span><br><span class="line">      filename: &apos;index.html&apos;,</span><br><span class="line">      //chunks这个参数告诉插件要引用entry里面的哪几个入口</span><br><span class="line">      chunks: [&apos;app&apos;],</span><br><span class="line">      //要把script插入到标签里</span><br><span class="line">      inject: &apos;body&apos;</span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h3 id="配置webpack-dev-server"><a href="#配置webpack-dev-server" class="headerlink" title="配置webpack-dev-server"></a>配置webpack-dev-server</h3><p><a href="https://webpack.js.org/configuration/dev-server/#components/sidebar/sidebar.jsx" target="_blank" rel="noopener">webpack-dev-server</a><br>开发环境下搭建开发服务器，可以在开发的时候实时更新页面，方便开发和调试。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-dev-server --save-dev</span><br><span class="line"></span><br><span class="line">//webpack.config.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  ....</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    historyApiFallback: true,</span><br><span class="line">    hot: true</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h3 id="Devtool"><a href="#Devtool" class="headerlink" title="Devtool"></a>Devtool</h3><p>webpack提供了souce map来提高debug的效率<br>在配置文件中直接配置devtool属性，就可以开始source map<br>支持的的类型<br><img src="/images/sourcemap.png" alt="images"><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">devtool: eval-source-map</span><br></pre></td></tr></table></figure><p></p><h3 id="resolve"><a href="#resolve" class="headerlink" title="resolve"></a>resolve</h3><p>resolve属性可以配置extensions和alias</p><ul><li>extensions可以配置自动完成的文件后缀，例如：我们在写index.jsx的时候就可以简写成index</li><li>alias 可以配置一些目录的别名，方便我们引入，也可以加快webpack打包时索引速度。</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">  extensions: [&apos;.js&apos;, &apos;.jsx&apos;],</span><br><span class="line">  alias: &#123;</span><br><span class="line">    components: path.resolve(__dirname, &apos;src/components&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="npm-script配置"><a href="#npm-script配置" class="headerlink" title="npm script配置"></a>npm script配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;start&quot;: &quot;webpack-dev-server --devtool eval-source-map --progress  --colors --hot&quot;,</span><br><span class="line">  &quot;build&quot;: &quot;webpack -p --progress --colors&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>一些命令的解释：</p><ul><li>–colors 输出的结果带彩色</li><li>–progress 输出进度显示</li><li>–watch 动态实时监测依赖文件变化并且更新</li><li>–hot 是热插拔</li><li>–display-error-details 错误的时候显示更多详细错误信息</li><li>-w 动态实时监测依赖文件变化并且更新</li><li>-d 提供sorcemap</li><li>-p 对打包文件进行压缩</li></ul><p>配置之后，开发环境直接执行<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run start</span><br></pre></td></tr></table></figure><p></p><p>打包则执行<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure><p></p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><blockquote><p><a href="https://webpack.js.org/" target="_blank" rel="noopener">webpack</a><br><a href="https://github.com/dwqs/blog/issues/46" target="_blank" rel="noopener">[译]Webpack 2 快速入门</a><br><a href="https://babeljs.io/" target="_blank" rel="noopener">Babel</a></p></blockquote><h2 id="配置Demo源码"><a href="#配置Demo源码" class="headerlink" title="配置Demo源码"></a>配置Demo源码</h2><p><a href="https://github.com/hhking/webpack-guides" target="_blank" rel="noopener">github</a></p><hr style="visibility:hidden"><div id="reward-container"><div>如果这篇文章对你有帮助，那么不妨？</div><button id="reward-button" disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">赞赏</button><div id="qr" style="display:none"><div style="display:inline-block"><img src="/images/wechatpay.jpg" alt="hhking 微信"><p>微信</p></div><div style="display:inline-block"><img src="/images/alipay.jpg" alt="hhking 支付宝"><p>支付宝</p></div></div></div><hr style="visibility:hidden"><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong> hhking</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://blog.hhking.cn/2017/03/12/webpack-guide/" title="webpack 2 配置指南">https://blog.hhking.cn/2017/03/12/webpack-guide/</a></li><li class="post-copyright-license"><strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><hr style="visibility:hidden"><ul class="pager"><li class="previous"><a href="/2018/08/10/browser-cache/" data-toggle="tooltip" data-placement="top" title="浏览器的缓存机制">Previous<br><span>浏览器的缓存机制</span></a></li><li class="next"><a href="/2017/03/04/mobile-refactoring-mark/" data-toggle="tooltip" data-placement="top" title="移动端重构笔记">Next<br><span>移动端重构笔记</span></a></li></ul><hr style="visibility:hidden"><div class="comments" id="gitalk-container"></div></div><div class="col-lg-2 col-lg-offset-0 visible-lg-block sidebar-container catalog-container"><div class="side-catalog"><hr class="hidden-sm hidden-xs"><h5><a class="catalog-toggle" href="#">CATALOG</a></h5><ul class="catalog-body"></ul></div></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 sidebar-container"><section><hr class="hidden-sm hidden-xs"><h5><a href="/archives/">FEATURED TAGS</a></h5><div class="tags"><a href="/archives/?tag=%E5%89%8D%E7%AB%AF" title="前端" rel="15">前端</a> <a href="/archives/?tag=React" title="React" rel="6">React</a> <a href="/archives/?tag=JavaScript" title="JavaScript" rel="4">JavaScript</a> <a href="/archives/?tag=Node" title="Node" rel="3">Node</a> <a href="/archives/?tag=webpack" title="webpack" rel="2">webpack</a> <a href="/archives/?tag=%E9%97%AD%E5%8C%85" title="闭包" rel="2">闭包</a> <a href="/archives/?tag=%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB" title="经验分享" rel="2">经验分享</a> <a href="/archives/?tag=jQuery" title="jQuery" rel="2">jQuery</a> <a href="/archives/?tag=Babel" title="Babel" rel="2">Babel</a></div></section><hr><h5>FRIENDS</h5><ul class="list-inline"><li><a target="_blank" href="https://www.22infinite.com/">22Infinite</a></li><li><a target="_blank" href="https://jsonz1993.github.io/">Jsonz</a></li><li><a target="_blank" href="https://stormysky.win/">stormysky</a></li><li><a target="_blank" href="https://onion-zx.github.io/">onion</a></li></ul></div></div></div></article><footer><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href="/atom.xml" title="RSS"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-rss fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://github.com/hhking" target="_blank" title="GitHub -&gt; https://github.com/hhking "><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href="https://juejin.im/user/5712e9f6128fe1006cf35b3f" target="_blank" title="掘金 -&gt; https://juejin.im/user/5712e9f6128fe1006cf35b3f "><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-stack-1x fa-inverse">掘</i></span></a></li><li><a href="mailto:huhking@qq.com" target="_blank" title="E-Mail -&gt; mailto:huhking@qq.com "><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-envelope fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright &copy; HK Talk 2020<br>Powered by <a href="https://huangxuan.me">Hux Blog</a> | Ported by <a href="https://blog.hhking.cn/">hhking</a> |<iframe style="margin-left:2px;margin-bottom:-5px" src="https://ghbtns.com/github-btn.html?user=hhking&repo=hexo-theme-huxo&type=star&count=true" frameborder="0" scrolling="0" width="90px" height="20px"></iframe></p><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="busuanzi-count text-muted"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span id="busuanzi_value_site_uv"></span> | <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span id="busuanzi_value_site_pv"></span></div></div></div></div></footer><script src="/js/jquery.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/hux-blog.min.js"></script><script>function async(e,n){var t=document,a="script",r=t.createElement(a),c=t.getElementsByTagName(a)[0];r.src=e,n&&r.addEventListener("load",function(e){n(null,e)},!1),c.parentNode.insertBefore(r,c)}</script><script>async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js",function(){var c=document.querySelector("nav");c&&FastClick.attach(c)})</script><script>var host=window.location.hostname;if("localhost"!==host){var _hmt=_hmt||[];!function(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?31feca94a9c3375ecc5a2e8d9a00b6a0";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()}</script><script async src="//www.googletagmanager.com/gtag/js?id=UA-126640859-1"></script><script>var host=window.location.hostname;if("localhost"!==host){function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-126640859-1")}</script><script type="text/javascript">function generateCatalog(e){var a,l,n,t,o,c;return _containerSelector="div.post-container",a=$(_containerSelector).find("h1,h2,h3,h4,h5,h6"),$(e).html(""),a.each(function(){l=$(this).prop("tagName").toLowerCase(),o="#"+$(this).prop("id"),n=$(this).text(),c=$('<a href="'+o+'" rel="nofollow">'+n+"</a>"),t=$('<li class="'+l+'_nav"></li>').append(c),$(e).append(t)}),!0}generateCatalog(".catalog-body"),$(".catalog-toggle").click(function(e){e.preventDefault(),$(".side-catalog").toggleClass("fold")}),async("/js/jquery.nav.js",function(){$(".catalog-body").onePageNav({currentClass:"active",changeHash:!1,easing:"swing",filter:"",scrollSpeed:700,scrollOffset:0,scrollThreshold:.2,begin:null,end:null,scrollChange:null,padding:80})})</script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"><script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script><script src="//cdn.jsdelivr.net/npm/js-md5@0.7.3/src/md5.min.js"></script><script>var gitalk=new Gitalk({clientID:"b0a40dabf23e7a07140f",clientSecret:"b2279465e24b03c105ae5621e101305dc01a1573",repo:"hhking.github.io",owner:"hhking",admin:["hhking"],id:md5(location.pathname),language:"zh-CN",distractionFreeMode:"true",createIssueManually:"true"});gitalk.render("gitalk-container")</script><img src="/img/icon_wechat.png" width="0" height="0"></body></html>