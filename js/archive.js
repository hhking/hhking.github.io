!function(){var n,t=(n=window.location.href.split("?")[0],function(t){"string"==typeof t?window.history.replaceState(null,"",n+t):window.history.replaceState(null,"",n)});$(document).ready(function(){var n=$(".js-tags"),e=n.find(".tag-button"),o=n.find(".tag-button--all"),a=$(".js-result"),i=a.find("section"),s=[],r=null,l=[],f=!1;function d(n){n&&(n.addClass("focus"),r&&!r.is(n)&&r.removeClass("focus"),r=n)}function u(n,r){var l,u,c,h,g,v={};for(u=0;u<s.length;u++)for(l=s[u],c=0;c<l.length;c++)if(""===n||void 0===n)v[u]||(v[u]={}),v[u][c]=!0;else{var p=l.eq(c).data("tags").split(",");for(h=0;h<p.length;h++)if(p[h]===n){v[u]||(v[u]={}),v[u][c]=!0;break}}for(u=0;u<s.length;u++)for(v[u]&&i.eq(u).removeClass("d-none"),v[u]||i.eq(u).addClass("d-none"),c=0;c<s[u].length;c++)v[u]&&v[u][c]?s[u].eq(c).removeClass("d-none"):s[u].eq(c).addClass("d-none");f||(a.removeClass("d-none"),f=!0),r?(d(r),""===(g=r.attr("data-encode"))||"string"!=typeof g?t():t("?tag="+g)):d(function(n){if(!n)return o;var t=e.filter('[data-encode="'+n+'"]');return 0===t.length?o:t}(n))}i.each(function(){s.push($(this).find(".item"))});var c=function(){var n,t=0,e={},o=window.location.search.substring(1).split("&");for(t=0;t<o.length;t++)void 0===e[(n=o[t].split("="))[0]]?e[n[0]]=n[1]:"string"==typeof e[n[0]]?e[n[0]]=[e[n[0]],n[1]]:e[n[0]].push(n[1]);return e}().tag;!function(){var n,t=0;for(n=0;n<i.length;n++)l.push(t),t+=i.eq(n).find(".item").length;l.push(t)}(),u(c),n.on("click","a",function(){u($(this).data("encode"),$(this))})})}();