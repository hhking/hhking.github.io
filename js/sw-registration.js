function handleRegistration(e){console.log("Service Worker Registered. ",e),e.onupdatefound=(o=>{const a=e.installing;a.onstatechange=(e=>{"installed"===a.state&&(navigator.serviceWorker.controller?console.log("SW is updated"):(console.log("A Visit without previous SW"),createSnackbar({message:"App ready for offline use.",duration:3e3})))})})}navigator.serviceWorker&&(navigator.serviceWorker.register("/sw.js").then(e=>handleRegistration(e)).catch(e=>{console.log("ServiceWorker registration failed: ",e)}),navigator.serviceWorker.onmessage=(e=>{console.log("SW: SW Broadcasting:",event);const o=e.data;"UPDATE_FOUND"==o.command&&(console.log("UPDATE_FOUND_BY_SW",o),createSnackbar({message:"Content updated.",actionText:"refresh",action:function(e){location.reload()}}))}));